<svg *ngIf="size" id="svg"  [attr.height]="size" [attr.width]="size" [attr.viewBox]="viewBox"  xmlns="http://www.w3.org/2000/svg">


  <ng-container  *ngFor="let element of elements">


    <ng-container *ngTemplateOutlet="tree;context:{element:element}">
    </ng-container>

    <ng-template #tree let-element="element" let-options="element.options">




      <ng-container [ngSwitch]="element.name" >


          <circle *ngSwitchCase="'circle'"  [attr.cx]="options.x" [attr.cy]=[options.y]
                  [attr.r]="options.radius"
                  [attr.stroke-width]="options['stroke-width']"
                  [attr.stroke]="options['stroke']"
                  [attr.stroke-dasharray]="options['stroke-dasharray']"
                  [attr.stroke-opacity]="options['stroke-opacity']"
                  [attr.fill]="options['fillColor']"
          ></circle>

          <path *ngSwitchCase="'path'"  [attr.d]="options.d" [attr.fill]=[options.fill]

                  [attr.stroke]="options['stroke']"
                  [attr.id]="options['id']"      >
            <title>{{options['title']}}</title>
          </path>


        <text *ngSwitchCase="'text-on-arc'"
              [attr.font-size]="options['font-size']"

        >
          <textPath
            [attr.href]="options.href"
            [attr.startOffset]="options.startOffset"
            [attr.text-anchor]="options['text-anchor']"
          >{{options['text']}}</textPath>
          <title>{{options['title']}}</title></text>


          <line *ngSwitchCase="'line'"
                [attr.x1]="options.x1"
                [attr.y1]="options.y1"
                [attr.x2]="options.x2"
                [attr.y2]="options.y2"
                [attr.stroke-width]="options.width"

                  [attr.stroke]="options['color']"    >
            <title>{{options['title']}}</title>
          </line>


        <text *ngSwitchCase="'text'"
              [attr.x]="options.x"
              [attr.y]="options.y"
              [attr.stroke]="options.stroke"
              [attr.stroke-width]="options['stroke-width']"
              [attr.font-size]="options['font-size']"
              [attr.text-anchor]="options['text-anchor']"
        >{{options.content}}
          <title>{{options['content']}}</title>
        </text>

      </ng-container>


      <ng-container *ngIf="element.children && element.children.length > 0">
        <ng-container *ngFor="let child of element.children">
            <ng-container *ngTemplateOutlet="tree;context:{element:child}">
            </ng-container>
        </ng-container>
      </ng-container>
    </ng-template>

  </ng-container>



</svg>
